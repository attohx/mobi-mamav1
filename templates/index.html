{% extends "base.html" %}
{% block content %}

<!-- 🌐 Top Navigation Buttons -->
<div class="text-end mt-3 me-4">
  {% if not current_user.is_authenticated %}
    <a href="{{ url_for('login') }}" class="btn btn-outline-teal me-2">Login</a>
    <a href="{{ url_for('register') }}" class="btn btn-coral">Sign Up</a>
  {% else %}
    <span class="me-2 text-muted">👋 Hi, {{ current_user.username }}</span>
    <a href="{{ url_for('logout') }}" class="btn btn-outline-danger">Logout</a>
  {% endif %}
</div>

<!-- 🩺 Hero Section -->
<section class="hero text-center">
  <div class="container py-5">
    <h1 class="fw-bold">{{ t['welcome'] }}</h1>
    <p class="lead mt-3 mb-4">{{ t['subtitle'] }}</p>
    <a href="{{ url_for('appointments') }}" class="btn btn-coral btn-lg shadow-sm px-4">{{ t['book'] }}</a>
  </div>
</section>

<!-- 🌍 Language Toggle -->
<div class="text-center mt-4 mb-4">
  <div class="btn-group shadow-sm" role="group">
    <a href="{{ url_for('index', lang='en') }}"
       class="btn {% if current_lang == 'en' %}btn-teal text-white{% else %}btn-outline-teal{% endif %}">
      🇬🇧 English
    </a>
    <a href="{{ url_for('index', lang='tw') }}"
       class="btn {% if current_lang == 'tw' %}btn-teal text-white{% else %}btn-outline-teal{% endif %}">
      🇬🇭 Twi
    </a>
  </div>
</div>

<!-- 💡 Features Section -->
<section class="py-5">
  <div class="container text-center">
    <h2 class="fw-bold mb-4" style="color:var(--teal);">What You Can Do</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="feature-card h-100">
          <div class="mb-3 fs-1">📚</div>
          <h5 class="fw-bold">Learn Health Tips</h5>
          <p class="text-muted">Read or listen to maternal health advice in your preferred language.</p>
          <a href="#tips" class="btn btn-outline-teal btn-sm">View Tips</a>
        </div>
      </div>

      <div class="col-md-4">
        <div class="feature-card h-100">
          <div class="mb-3 fs-1">🩺</div>
          <h5 class="fw-bold">Book Appointments</h5>
          <p class="text-muted">Easily schedule clinic visits with local health workers.</p>
          <a href="{{ url_for('appointments') }}" class="btn btn-outline-teal btn-sm">{{ t['book'] }}</a>
        </div>
      </div>

      <div class="col-md-4">
        <div class="feature-card h-100">
          <div class="mb-3 fs-1">💬</div>
          <h5 class="fw-bold">Ask a Nurse</h5>
          <p class="text-muted">Get verified answers and support from healthcare professionals.</p>
          <a href="{{ url_for('login') }}" class="btn btn-outline-teal btn-sm">Ask Now</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 📚 Health Tips Section -->
<section id="tips" class="py-5" style="background-color:var(--aqua-light);">
  <div class="container">
    <h2 class="text-center mb-4 fw-bold" style="color:var(--teal);">{{ t['title'] }} ({{ current_lang|upper }})</h2>
    <div class="row g-4">
      {% for tip in tips %}
      <div class="col-md-6 col-lg-4">
        <div class="card tip-card h-100">
          <div class="card-body">
            <h5 class="card-title">{{ tip.title }}</h5>
            <p class="card-text text-muted">{{ tip.content[:120] }}...</p>
            <a href="{{ url_for('tip_detail', tip_id=tip.id) }}" class="btn btn-outline-teal btn-sm">{{ t['read_more'] }}</a>
          </div>
        </div>
      </div>
      {% else %}
      <p class="text-center text-muted">No health tips available for this language.</p>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}
